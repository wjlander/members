[
  {
    "id": "ringing_associations",
    "name": "ringing_associations",
    "type": "base",
    "system": false,
    "schema": [
      {
        "id": "assoc_name_field",
        "name": "name",
        "type": "text",
        "system": false,
        "required": true,
        "presentable": false,
        "unique": false,
        "options": {
          "min": 1,
          "max": 255,
          "pattern": ""
        }
      },
      {
        "id": "assoc_code_field",
        "name": "code",
        "type": "text",
        "system": false,
        "required": true,
        "presentable": false,
        "unique": true,
        "options": {
          "min": 2,
          "max": 10,
          "pattern": "^[A-Z0-9]+$"
        }
      },
      {
        "id": "assoc_description_field",
        "name": "description",
        "type": "text",
        "system": false,
        "required": false,
        "presentable": false,
        "unique": false,
        "options": {
          "min": null,
          "max": 1000,
          "pattern": ""
        }
      },
      {
        "id": "assoc_settings_field",
        "name": "settings",
        "type": "json",
        "system": false,
        "required": false,
        "presentable": false,
        "unique": false,
        "options": {
          "maxSize": 2000000
        }
      },
      {
        "id": "assoc_status_field",
        "name": "status",
        "type": "select",
        "system": false,
        "required": true,
        "presentable": false,
        "unique": false,
        "options": {
          "maxSelect": 1,
          "values": ["active", "inactive"]
        }
      }
    ],
    "indexes": [],
    "listRule": "@request.auth.id != \"\"",
    "viewRule": "@request.auth.id != \"\"",
    "createRule": "@request.auth.role = \"super_admin\"",
    "updateRule": "@request.auth.role = \"super_admin\" || (@request.auth.role = \"admin\" && @request.auth.association = id)",
    "deleteRule": "@request.auth.role = \"super_admin\"",
    "options": {}
  },
  {
    "id": "member_users",
    "name": "member_users",
    "type": "auth",
    "system": false,
    "schema": [
      {
        "id": "user_name_field",
        "name": "name",
        "type": "text",
        "system": false,
        "required": true,
        "presentable": false,
        "unique": false,
        "options": {
          "min": 1,
          "max": 255,
          "pattern": ""
        }
      },
      {
        "id": "user_avatar_field",
        "name": "avatar",
        "type": "file",
        "system": false,
        "required": false,
        "presentable": false,
        "unique": false,
        "options": {
          "mimeTypes": ["image/jpeg", "image/png", "image/svg+xml", "image/gif", "image/webp"],
          "thumbs": ["100x100"],
          "maxSelect": 1,
          "maxSize": 5242880,
          "protected": false
        }
      },
      {
        "id": "user_role_field",
        "name": "role",
        "type": "select",
        "system": false,
        "required": true,
        "presentable": false,
        "unique": false,
        "options": {
          "maxSelect": 1,
          "values": ["super_admin", "admin", "member"]
        }
      },
      {
        "id": "user_association_field",
        "name": "association",
        "type": "relation",
        "system": false,
        "required": false,
        "presentable": false,
        "unique": false,
        "options": {
          "collectionId": "ringing_associations",
          "cascadeDelete": false,
          "minSelect": null,
          "maxSelect": 1,
          "displayFields": null
        }
      }
    ],
    "indexes": [],
    "listRule": "@request.auth.id != \"\" && (@request.auth.role = \"super_admin\" || @request.auth.association = association)",
    "viewRule": "@request.auth.id != \"\" && (@request.auth.id = id || @request.auth.role = \"super_admin\" || (@request.auth.role = \"admin\" && @request.auth.association = association))",
    "createRule": "",
    "updateRule": "@request.auth.id = id || @request.auth.role = \"super_admin\" || (@request.auth.role = \"admin\" && @request.auth.association = association)",
    "deleteRule": "@request.auth.id = id || @request.auth.role = \"super_admin\"",
    "options": {
      "allowEmailAuth": true,
      "allowOAuth2Auth": false,
      "allowUsernameAuth": false,
      "exceptEmailDomains": null,
      "manageRule": "@request.auth.role = \"super_admin\" || (@request.auth.role = \"admin\" && @request.auth.association = association)",
      "minPasswordLength": 8,
      "onlyEmailDomains": null,
      "onlyVerified": false,
      "requireEmail": true
    }
  },
  {
    "id": "ringing_members",
    "name": "ringing_members",
    "type": "base",
    "system": false,
    "schema": [
      {
        "id": "member_user_field",
        "name": "user",
        "type": "relation",
        "system": false,
        "required": true,
        "presentable": false,
        "unique": true,
        "options": {
          "collectionId": "member_users",
          "cascadeDelete": true,
          "minSelect": null,
          "maxSelect": 1,
          "displayFields": null
        }
      },
      {
        "id": "member_association_field",
        "name": "association",
        "type": "relation",
        "system": false,
        "required": true,
        "presentable": false,
        "unique": false,
        "options": {
          "collectionId": "ringing_associations",
          "cascadeDelete": false,
          "minSelect": null,
          "maxSelect": 1,
          "displayFields": null
        }
      },
      {
        "id": "member_id_field",
        "name": "member_id",
        "type": "text",
        "system": false,
        "required": true,
        "presentable": false,
        "unique": true,
        "options": {
          "min": 3,
          "max": 50,
          "pattern": ""
        }
      },
      {
        "id": "member_name_field",
        "name": "name",
        "type": "text",
        "system": false,
        "required": true,
        "presentable": false,
        "unique": false,
        "options": {
          "min": 1,
          "max": 255,
          "pattern": ""
        }
      },
      {
        "id": "member_email_field",
        "name": "email",
        "type": "email",
        "system": false,
        "required": true,
        "presentable": false,
        "unique": false,
        "options": {
          "exceptDomains": null,
          "onlyDomains": null
        }
      },
      {
        "id": "member_phone_field",
        "name": "phone",
        "type": "text",
        "system": false,
        "required": false,
        "presentable": false,
        "unique": false,
        "options": {
          "min": null,
          "max": 20,
          "pattern": ""
        }
      },
      {
        "id": "member_address_field",
        "name": "address",
        "type": "text",
        "system": false,
        "required": false,
        "presentable": false,
        "unique": false,
        "options": {
          "min": null,
          "max": 500,
          "pattern": ""
        }
      },
      {
        "id": "member_date_of_birth_field",
        "name": "date_of_birth",
        "type": "date",
        "system": false,
        "required": false,
        "presentable": false,
        "unique": false,
        "options": {
          "min": "",
          "max": ""
        }
      },
      {
        "id": "member_status_field",
        "name": "status",
        "type": "select",
        "system": false,
        "required": true,
        "presentable": false,
        "unique": false,
        "options": {
          "maxSelect": 1,
          "values": ["pending", "active", "inactive", "suspended"]
        }
      },
      {
        "id": "member_membership_type_field",
        "name": "membership_type",
        "type": "select",
        "system": false,
        "required": false,
        "presentable": false,
        "unique": false,
        "options": {
          "maxSelect": 1,
          "values": ["regular", "premium", "student", "senior", "honorary"]
        }
      },
      {
        "id": "member_join_date_field",
        "name": "join_date",
        "type": "date",
        "system": false,
        "required": false,
        "presentable": false,
        "unique": false,
        "options": {
          "min": "",
          "max": ""
        }
      },
      {
        "id": "member_notes_field",
        "name": "notes",
        "type": "text",
        "system": false,
        "required": false,
        "presentable": false,
        "unique": false,
        "options": {
          "min": null,
          "max": 2000,
          "pattern": ""
        }
      },
      {
        "id": "member_documents_field",
        "name": "documents",
        "type": "file",
        "system": false,
        "required": false,
        "presentable": false,
        "unique": false,
        "options": {
          "mimeTypes": ["application/pdf", "image/jpeg", "image/png", "application/msword", "application/vnd.openxmlformats-officedocument.wordprocessingml.document"],
          "thumbs": null,
          "maxSelect": 10,
          "maxSize": 10485760,
          "protected": false
        }
      }
    ],
    "indexes": [],
    "listRule": "@request.auth.id != \"\" && (@request.auth.role = \"super_admin\" || (@request.auth.association = association && @request.auth.role = \"admin\") || @request.auth.id = user)",
    "viewRule": "@request.auth.id != \"\" && (@request.auth.role = \"super_admin\" || (@request.auth.association = association && @request.auth.role = \"admin\") || @request.auth.id = user)",
    "createRule": "@request.auth.id != \"\"",
    "updateRule": "@request.auth.id != \"\" && (@request.auth.role = \"super_admin\" || (@request.auth.association = association && @request.auth.role = \"admin\") || (@request.auth.id = user && status = \"pending\"))",
    "deleteRule": "@request.auth.role = \"super_admin\" || (@request.auth.association = association && @request.auth.role = \"admin\")",
    "options": {}
  },
  {
    "id": "member_payments",
    "name": "member_payments",
    "type": "base",
    "system": false,
    "schema": [
      {
        "id": "dues_member_field",
        "name": "member",
        "type": "relation",
        "system": false,
        "required": true,
        "presentable": false,
        "unique": false,
        "options": {
          "collectionId": "ringing_members",
          "cascadeDelete": true,
          "minSelect": null,
          "maxSelect": 1,
          "displayFields": null
        }
      },
      {
        "id": "dues_association_field",
        "name": "association",
        "type": "relation",
        "system": false,
        "required": true,
        "presentable": false,
        "unique": false,
        "options": {
          "collectionId": "ringing_associations",
          "cascadeDelete": false,
          "minSelect": null,
          "maxSelect": 1,
          "displayFields": null
        }
      },
      {
        "id": "dues_type_field",
        "name": "type",
        "type": "select",
        "system": false,
        "required": true,
        "presentable": false,
        "unique": false,
        "options": {
          "maxSelect": 1,
          "values": ["monthly", "quarterly", "annual", "registration", "special"]
        }
      },
      {
        "id": "dues_amount_field",
        "name": "amount",
        "type": "number",
        "system": false,
        "required": true,
        "presentable": false,
        "unique": false,
        "options": {
          "min": 0,
          "max": null,
          "noDecimal": false
        }
      },
      {
        "id": "dues_due_date_field",
        "name": "due_date",
        "type": "date",
        "system": false,
        "required": true,
        "presentable": false,
        "unique": false,
        "options": {
          "min": "",
          "max": ""
        }
      },
      {
        "id": "dues_paid_date_field",
        "name": "paid_date",
        "type": "date",
        "system": false,
        "required": false,
        "presentable": false,
        "unique": false,
        "options": {
          "min": "",
          "max": ""
        }
      },
      {
        "id": "dues_status_field",
        "name": "status",
        "type": "select",
        "system": false,
        "required": true,
        "presentable": false,
        "unique": false,
        "options": {
          "maxSelect": 1,
          "values": ["pending", "paid", "overdue", "waived"]
        }
      },
      {
        "id": "dues_payment_method_field",
        "name": "payment_method",
        "type": "select",
        "system": false,
        "required": false,
        "presentable": false,
        "unique": false,
        "options": {
          "maxSelect": 1,
          "values": ["cash", "check", "card", "bank_transfer", "paypal", "other"]
        }
      },
      {
        "id": "dues_reference_number_field",
        "name": "reference_number",
        "type": "text",
        "system": false,
        "required": false,
        "presentable": false,
        "unique": false,
        "options": {
          "min": null,
          "max": 100,
          "pattern": ""
        }
      },
      {
        "id": "dues_notes_field",
        "name": "notes",
        "type": "text",
        "system": false,
        "required": false,
        "presentable": false,
        "unique": false,
        "options": {
          "min": null,
          "max": 1000,
          "pattern": ""
        }
      }
    ],
    "indexes": [],
    "listRule": "@request.auth.id != \"\" && (@request.auth.role = \"super_admin\" || (@request.auth.association = association && @request.auth.role = \"admin\") || member.user = @request.auth.id)",
    "viewRule": "@request.auth.id != \"\" && (@request.auth.role = \"super_admin\" || (@request.auth.association = association && @request.auth.role = \"admin\") || member.user = @request.auth.id)",
    "createRule": "@request.auth.role = \"super_admin\" || (@request.auth.association = association && @request.auth.role = \"admin\")",
    "updateRule": "@request.auth.role = \"super_admin\" || (@request.auth.association = association && @request.auth.role = \"admin\")",
    "deleteRule": "@request.auth.role = \"super_admin\" || (@request.auth.association = association && @request.auth.role = \"admin\")",
    "options": {}
  }
]